<UserControl
    x:Class="SmartDetection.UI.MyTaskPane"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SmartDetection.UI"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="1366"
    mc:Ignorable="d">
    <Grid x:Name="myTaskPane" Background="WhiteSmoke">
        <Grid.RowDefinitions>
            <RowDefinition Height="*">
            </RowDefinition>
        </Grid.RowDefinitions>
        <TabControl
            Grid.Row="0"
            x:Name="tabControl"
            Margin="5"
            SelectionChanged="TabSelectionChanged"
            TabStripPlacement="Top">
            <TabControl.Resources>
                <Style TargetType="TabItem">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border
                                    Name="Border"
                                    Margin="2,0"
                                    BorderBrush="Blue"
                                    BorderThickness="1,1,1,0"
                                    CornerRadius="4,4,0,0">
                                    <ContentPresenter
                                        x:Name="ContentSite"
                                        Margin="10,2"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        ContentSource="Header" />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="LightSkyBlue" />
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="False">
                                        <Setter TargetName="Border" Property="Background" Value="GhostWhite" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>
            <TabItem
                Name="TabBridge"
                Width="120"
                Height="35"
                FontSize="18"
                Header="待任务认领">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="110">
                        </RowDefinition>
                        <RowDefinition Height="*">
                        </RowDefinition>

                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <GroupBox
                            VerticalContentAlignment="Center"
                            BorderBrush="DarkGray"
                            BorderThickness="2"
                            Header="请设置查询条件">
                            <GroupBox.Content>
                                <WrapPanel Orientation="Horizontal">
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="日期:">
                                    </Label>
                                    <DatePicker
                                        x:Name="datePickerCtl"
                                        Width="180"
                                        Height="40"
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        FirstDayOfWeek="Monday"
                                        IsTodayHighlighted="False"
                                        Language="zh-cn"
                                        SelectedDateFormat="Long">
                                    </DatePicker>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="班组:">
                                    </Label>
                                    <TextBox
                                        x:Name="sGroupBox"
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="线名:">
                                    </Label>
                                    <TextBox
                                        x:Name="sLineBox"
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="行别:">
                                    </Label>
                                    <TextBox
                                        x:Name="sUpdownBox"
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Button
                                        Uid="\images\closeWin.png"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Width="80"
                                        Height="50"
                                        Margin="1,0,1,0"
                                        Background="#FAFAFB"
                                        Click="queryPlan"
                                        Content="查询"
                                        Effect="{DynamicResource Effect_Menu}"
                                        Style="{StaticResource ButtonStyle_ShapeRectButton}">
                                    </Button>
                                </WrapPanel>
                            </GroupBox.Content>
                        </GroupBox>
                    </Grid>
                    <Grid Grid.Row="1">
                        <DataGrid
                            Name="StationData"
                            HorizontalContentAlignment="Center"
                            AlternationCount="2"
                            AutoGenerateColumns="False"
                            Background="White"
                            CanUserAddRows="false"
                            FontSize="14"
                            ItemsSource="{Binding}"
                            SelectionUnit="FullRow"
                            VerticalScrollBarVisibility="Visible">
                            <DataGrid.RowStyle>
                                <Style TargetType="DataGridRow">
                                    <Setter Property="Height" Value="35" />
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="VerticalContentAlignment" Value="Center" />
                                    <Style.Triggers>
                                        <Trigger Property="ItemsControl.AlternationIndex" Value="0">
                                            <Setter Property="Background" Value="#FFE4DDB3" />
                                        </Trigger>
                                        <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                                            <Setter Property="Background" Value="#FFF2F2F2" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.RowStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn
                                    Width="60"
                                    Binding="{Binding id, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="序号" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding lineNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="日期">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding upDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="班组">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding stationNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="工作内容">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding stationName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="线名">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="线别">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="行别">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="起点里程">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="终点里程">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="钢轨(Km)">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="备注">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="探伤文件">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="回放人员安排">
                                </DataGridTextColumn>
                                <DataGridTemplateColumn Width="*" Header="操作">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel  VerticalAlignment="Center">
                                                <Button Content="认领" Click="click_claimPage" Width="50"  VerticalAlignment="Center">
                                                </Button>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem
                Name="TabResult"
                Width="120"
                Height="35"
                FontSize="18"
                Header="已认领任务">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="110">
                        </RowDefinition>
                        <RowDefinition Height="*">
                        </RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <GroupBox
                            VerticalContentAlignment="Center"
                            BorderBrush="DarkGray"
                            BorderThickness="2"
                            Header="请设置查询条件">
                            <GroupBox.Content>
                                <WrapPanel Orientation="Horizontal">
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="日期:">
                                    </Label>
                                    <DatePicker
                                        Width="180"
                                        Height="40"
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        FirstDayOfWeek="Monday"
                                        IsTodayHighlighted="False"
                                        Language="zh-cn"
                                        SelectedDateFormat="Long">
                                    </DatePicker>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="班组:">
                                    </Label>
                                    <TextBox
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="线名:">
                                    </Label>
                                    <TextBox
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Label
                                        VerticalAlignment="Center"
                                        VerticalContentAlignment="Center"
                                        Content="行别:">
                                    </Label>
                                    <TextBox
                                        Width="100"
                                        Height="35"
                                        VerticalContentAlignment="Center"
                                        FontSize="16">
                                    </TextBox>
                                    <Button
                                        Uid="\images\closeWin.png"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Width="80"
                                        Height="50"
                                        Margin="1,0,1,0"
                                        Background="#FAFAFB"
                                        Click="queryPlan"
                                        Content="查询"
                                        Effect="{DynamicResource Effect_Menu}"
                                        Style="{StaticResource ButtonStyle_ShapeRectButton}">
                                    </Button>
                                </WrapPanel>
                            </GroupBox.Content>
                        </GroupBox>
                    </Grid>
                    <Grid Grid.Row="1">
                        <DataGrid
                            Name="StationData_Claimed"
                            HorizontalContentAlignment="Center"
                            AlternationCount="2"
                            AutoGenerateColumns="False"
                            Background="White"
                            CanUserAddRows="false"
                            FontSize="14"
                            ItemsSource="{Binding}"
                            SelectionUnit="FullRow"
                            VerticalScrollBarVisibility="Visible">
                            <DataGrid.RowStyle>
                                <Style TargetType="DataGridRow">
                                    <Setter Property="Height" Value="35" />
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="VerticalContentAlignment" Value="Center" />
                                    <Style.Triggers>
                                        <Trigger Property="ItemsControl.AlternationIndex" Value="0">
                                            <Setter Property="Background" Value="#FFE4DDB3" />
                                        </Trigger>
                                        <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                                            <Setter Property="Background" Value="#FFF2F2F2" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.RowStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn
                                    Width="60"
                                    Binding="{Binding id, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="序号" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding lineNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="日期">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding upDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="班组">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding stationNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="工作内容">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding stationName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="线名">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="线别">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="行别">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="起点里程">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="终点里程">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="100"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="钢轨(Km)">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="备注">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="探伤文件">
                                </DataGridTextColumn>
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding cPoint, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Header="回放人员安排">
                                </DataGridTextColumn>
                                <DataGridTemplateColumn Width="2*" Header="操作">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid  VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                                </Grid.ColumnDefinitions>
                                                <Button Content="分析信息录入" Grid.Column="0" Click="click_Analysis_Information_Input"  VerticalAlignment="Center">
                                                </Button>
                                                <Button Content="伤损报警录入" Grid.Column="1" Click="click_claimPage"  VerticalAlignment="Center">
                                                </Button>
                                                <Button Content="伤损报警登录" Grid.Column="2" Click="click_claimPage" VerticalAlignment="Center">
                                                </Button>
                                            </Grid>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Grid>

            </TabItem>
        </TabControl>

    </Grid>
</UserControl>
